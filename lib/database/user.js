





const _0x47c358=_0x5637;(function(_0x5eecbf,_0x1c4e5e){const _0x9f32a4=_0x5637,_0x1566bf=_0x5eecbf();while(!![]){try{const _0x54d6e5=parseInt(_0x9f32a4(0x130))/0x1+parseInt(_0x9f32a4(0x153))/0x2+-parseInt(_0x9f32a4(0x145))/0x3*(-parseInt(_0x9f32a4(0x133))/0x4)+parseInt(_0x9f32a4(0x143))/0x5+parseInt(_0x9f32a4(0x14a))/0x6+-parseInt(_0x9f32a4(0x131))/0x7+-parseInt(_0x9f32a4(0x14b))/0x8*(parseInt(_0x9f32a4(0x13f))/0x9);if(_0x54d6e5===_0x1c4e5e)break;else _0x1566bf['push'](_0x1566bf['shift']());}catch(_0x494bdb){_0x1566bf['push'](_0x1566bf['shift']());}}}(_0x47b0,0xb8b73));function _0x47b0(){const _0x3c214e=['writeFileSync','996227swDgjC','2388218nVdOef','Error\x20loading\x20user\x20data:','4AjeatM','error','log','readFileSync','find','mongoose','Error\x20while\x20Creating\x20user\x20in\x20database,\x0a','model','delete','false','options\x20:\x20','exports','32689296cMYFoR','length','keys','Error\x20while\x20updateOne\x20user\x20in\x20database,\x0a','4222310ltkhCh','Error\x20while\x20finding\x20user\x20in\x20database,\x0a','3693132Amooaa','findOneAndDelete','chatid','forEach','SmdOfficial','6706212cUYzij','8toiaDT','drop','new','updateOne','findOne','Error\x20while\x20findOneAndDelete\x20user\x20in\x20database,\x0a','collection','values','1080956SbvOmC','stringify','utf8','countDocuments'];_0x47b0=function(){return _0x3c214e;};return _0x47b0();}const mongoose=require(_0x47c358(0x138)),UserSchema=new mongoose['Schema']({'id':{'type':String,'required':!![],'unique':!![]},'name':{'type':String},'bot':{'type':Boolean},'announcement':{'type':String},'permit':{'type':String,'default':_0x47c358(0x13c)},'times':{'type':Number,'default':0x0},'afk':{'type':String,'default':'false'},'afktime':{'type':Number,'default':0x0},'ban':{'type':String,'default':_0x47c358(0x13c)},'haig':{'type':String,'default':_0x47c358(0x13c)},'lastmsg':{'type':String,'default':''},'lastchat':{'type':String,'default':''},'spamCount':{'type':Number,'default':0x0}}),sck1=mongoose[_0x47c358(0x13a)]('Sck1',UserSchema);module[_0x47c358(0x13e)]={'sck1':sck1};const fs=require('fs'),fileName=__dirname+'/user.json',newUser={'id':_0x47c358(0x147),'name':'Unknown',"permit":"false",'times':0x0,'ban':_0x47c358(0x13c),'afk':'false','afktime':0x0,'bot':![]};function _0x5637(_0x226b07,_0xccec5f){const _0x47b0c5=_0x47b0();return _0x5637=function(_0x56370c,_0x5a10fe){_0x56370c=_0x56370c-0x130;let _0x417de=_0x47b0c5[_0x56370c];return _0x417de;},_0x5637(_0x226b07,_0xccec5f);}async function loadGroupData(){const _0x101bd4=_0x47c358;try{return await JSON['parse'](fs[_0x101bd4(0x136)](fileName,'utf8'));}catch(_0x1c901f){return console[_0x101bd4(0x134)](_0x101bd4(0x132),_0x1c901f),[];}}async function saveGroupData(_0x3cd5d2){const _0x5b42da=_0x47c358;await fs[_0x5b42da(0x157)](fileName,JSON[_0x5b42da(0x154)](_0x3cd5d2,null,0x2),_0x5b42da(0x155));}let userdb={};userdb[_0x47c358(0x156)]=async()=>{const _0x481dd6=_0x47c358;try{if(!global[_0x481dd6(0x149)])return;if(istribalchiefdb)return await sck[_0x481dd6(0x156)]();else{let _0x177cb0=await loadGroupData(),_0xc31d6d=Object[_0x481dd6(0x141)](_0x177cb0);return _0xc31d6d[_0x481dd6(0x140)];}}catch(_0x6bbc8d){return console[_0x481dd6(0x135)](_0x481dd6(0x139),_0x6bbc8d),0x0;}},userdb[_0x47c358(0x14d)]=async _0x2079de=>{const _0x8288fd=_0x47c358;try{if(!global[_0x8288fd(0x149)])return;if(istribalchiefdb){let _0x10204a=await sck1[_0x8288fd(0x14f)]({'id':_0x2079de['id']})||await new sck1({'id':_0x2079de['id'],..._0x2079de})['save']();return _0x10204a;}else{let _0x50215c=await loadGroupData();return!_0x50215c[_0x2079de['id']]?(_0x50215c[_0x2079de['id']]={...newUser,..._0x2079de},await saveGroupData(_0x50215c),_0x50215c[_0x2079de['id']]):_0x50215c[_0x2079de['id']];}}catch(_0x119e3a){return console[_0x8288fd(0x135)](_0x8288fd(0x139),_0x119e3a),{};}},userdb['findOne']=async _0x50851c=>{const _0x1969de=_0x47c358;try{if(!global[_0x1969de(0x149)])return;if(istribalchiefdb){let _0x9f1f2b=await sck1['findOne']({'id':_0x50851c['id']});return _0x9f1f2b;}else{let _0x3cf3e1=await loadGroupData();if(_0x3cf3e1[_0x50851c['id']])return _0x3cf3e1[_0x50851c['id']];else return;}}catch(_0x3fb9ca){console[_0x1969de(0x135)](_0x1969de(0x144),_0x3fb9ca);return;}},userdb[_0x47c358(0x137)]=async _0x3e43c1=>{const _0x5d0c07=_0x47c358;console[_0x5d0c07(0x135)](_0x5d0c07(0x13d),_0x3e43c1);try{if(!global['SmdOfficial'])return;if(istribalchiefdb){let _0x3dcab7=await Pluginsdb[_0x5d0c07(0x137)](_0x3e43c1);return _0x3dcab7;}else{let _0x32774d=await loadGroupData();if(_0x32774d[_0x3e43c1['id']])return[{..._0x32774d[_0x3e43c1['id']]}];else return Object[_0x5d0c07(0x152)](_0x32774d);}}catch(_0x108eac){console[_0x5d0c07(0x135)](_0x5d0c07(0x144),_0x108eac);return;}},userdb[_0x47c358(0x14e)]=async(_0x3261ef,_0x2d9bbf={})=>{const _0x1ae28c=_0x47c358;try{if(!global['SmdOfficial'])return;if(!_0x3261ef['id'])return{};if(istribalchiefdb)return await sck1[_0x1ae28c(0x14e)]({'id':_0x3261ef['id']},{..._0x2d9bbf});else{let _0x3c26aa=await loadGroupData();return _0x3c26aa[_0x3261ef['id']]?(_0x3c26aa[_0x3261ef['id']]={..._0x3c26aa[_0x3261ef['id']],..._0x2d9bbf},await saveGroupData(_0x3c26aa),_0x3c26aa[_0x3261ef['id']]):{};}}catch(_0xf55f60){return console[_0x1ae28c(0x135)](_0x1ae28c(0x142),_0xf55f60),{};}},userdb[_0x47c358(0x146)]=async _0x43758c=>{const _0x303d7b=_0x47c358;try{if(!global[_0x303d7b(0x149)])return;if(!_0x43758c['id'])return[];if(istribalchiefdb)await sck1[_0x303d7b(0x146)]({'id':_0x43758c['id']});else{let _0x227970=await loadGroupData();return delete _0x227970[_0x43758c['id']],await saveGroupData(_0x227970),!![];}}catch(_0x5e249b){return console[_0x303d7b(0x135)](_0x303d7b(0x150),_0x5e249b),null;}},userdb[_0x47c358(0x13b)]=userdb['findOneAndDelete'],userdb['collection']={'drop':async()=>{const _0x3b4965=_0x47c358;try{if(!global[_0x3b4965(0x149)])return;if(istribalchiefdb)return await sck1[_0x3b4965(0x151)][_0x3b4965(0x14c)]();else{let _0x2d6fa5=await loadGroupData();return Object[_0x3b4965(0x141)](_0x2d6fa5)[_0x3b4965(0x148)](_0x4947bf=>delete _0x2d6fa5[_0x4947bf]),await saveGroupData(_0x2d6fa5),!![];}}catch(_0x28c32d){return console[_0x3b4965(0x135)]('Error\x20while\x20collection.drop\x20all\x20user\x20in\x20database,\x0a',_0x28c32d),null;}}},module[_0x47c358(0x13e)]={'userdb':userdb};


